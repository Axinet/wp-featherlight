(function(d){d.detectSwipe={version:"2.1.1",enabled:"ontouchstart" in document.documentElement,preventDefault:true,threshold:20};var f,e,g=false;function i(){this.removeEventListener("touchmove",a);this.removeEventListener("touchend",i);g=false}function a(n){if(d.detectSwipe.preventDefault){n.preventDefault()}if(g){var j=n.touches[0].pageX,o=n.touches[0].pageY,l=f-j,k=e-o,m;if(Math.abs(l)>=d.detectSwipe.threshold){m=l>0?"left":"right"}else{if(Math.abs(k)>=d.detectSwipe.threshold){m=k>0?"down":"up"}}if(m){i.call(this);d(this).trigger("swipe",m).trigger("swipe"+m)}}}function c(j){if(j.touches.length===1){f=j.touches[0].pageX;e=j.touches[0].pageY;g=true;this.addEventListener("touchmove",a,false);this.addEventListener("touchend",i,false)}}function b(){this.addEventListener&&this.addEventListener("touchstart",c,false)}function h(){this.removeEventListener("touchstart",c)}d.event.special.swipe={setup:b};d.each(["left","up","down","right"],function(){d.event.special["swipe"+this]={setup:function(){d(this).on("swipe",d.noop)}}})})(jQuery);(function(f){if("undefined"===typeof f){if("console" in window){window.console.info("Too much lightness, Featherlight needs jQuery.")}return}function a(j,i){if(this instanceof a){this.id=a.id++;this.setup(j,i);this.chainCallbacks(a._callbackChain)}else{var k=new a(j,i);k.open();return k}}var g=[],h=function(i){g=f.grep(g,function(j){return j!==i&&j.$instance.closest("body").length>0});return g};var b=function(o,n){var i={},m=new RegExp("^"+n+"([A-Z])(.*)");for(var k in o){var j=k.match(m);if(j){var l=(j[1]+j[2].replace(/([A-Z])/g,"-$1")).toLowerCase();i[l]=o[k]}}return i};var e={keyup:"onKeyUp",resize:"onResize"};var c=function(i){f.each(a.opened().reverse(),function(){if(!i.isDefaultPrevented()){if(false===this[e[i.type]](i)){i.preventDefault();i.stopPropagation();return false}}})};var d=function(j){if(j!==a._globalHandlerInstalled){a._globalHandlerInstalled=j;var i=f.map(e,function(l,k){return k+"."+a.prototype.namespace}).join(" ");f(window)[j?"on":"off"](i,c)}};a.prototype={constructor:a,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:false,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:true,closeIcon:"&#10005;",loading:"",persist:false,otherClose:null,beforeOpen:f.noop,beforeContent:f.noop,beforeClose:f.noop,afterOpen:f.noop,afterContent:f.noop,afterClose:f.noop,onKeyUp:f.noop,onResize:f.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(n,l){if(typeof n==="object"&&n instanceof f===false&&!l){l=n;n=undefined}var j=f.extend(this,l,{target:n}),m=!j.resetCss?j.namespace:j.namespace+"-reset",k=f(j.background||['<div class="'+m+"-loading "+m+'">','<div class="'+m+'-content">','<span class="'+m+"-close-icon "+j.namespace+'-close">',j.closeIcon,"</span>",'<div class="'+j.namespace+'-inner">'+j.loading+"</div>","</div>","</div>"].join("")),i="."+j.namespace+"-close"+(j.otherClose?","+j.otherClose:"");j.$instance=k.clone().addClass(j.variant);j.$instance.on(j.closeTrigger+"."+j.namespace,function(p){var o=f(p.target);if(("background"===j.closeOnClick&&o.is("."+j.namespace))||"anywhere"===j.closeOnClick||o.closest(i).length){p.preventDefault();j.close()}});return this},getContent:function(){if(this.persist!==false&&this.$content){return this.$content}var j=this,n=this.constructor.contentFilters,i=function(q){return j.$currentTarget&&j.$currentTarget.attr(q)},m=i(j.targetAttr),o=j.target||m||"";var l=n[j.type];if(!l&&o in n){l=n[o];o=j.target&&m}o=o||i("href")||"";if(!l){for(var k in n){if(j[k]){l=n[k];o=j[k]}}}if(!l){var p=o;o=null;f.each(j.contentFilters,function(){l=n[this];if(l.test){o=l.test(p)}if(!o&&l.regex&&p.match&&p.match(l.regex)){o=p}return !o});if(!o){if("console" in window){window.console.error("Featherlight: no content filter found "+(p?' for "'+p+'"':" (no target specified)"))}return false}}return l.process.call(j,o)},setContent:function(j){var i=this;if(j.is("iframe")||f("iframe",j).length>0){i.$instance.addClass(i.namespace+"-iframe")}i.$instance.removeClass(i.namespace+"-loading");i.$instance.find("."+i.namespace+"-inner").not(j).slice(1).remove().end().replaceWith(f.contains(i.$instance[0],j[0])?"":j);i.$content=j.addClass(i.namespace+"-inner");return i},open:function(k){var i=this;i.$instance.hide().appendTo(i.root);if((!k||!k.isDefaultPrevented())&&i.beforeOpen(k)!==false){if(k){k.preventDefault()}var j=i.getContent();if(j){g.push(i);d(true);i.$instance.fadeIn(i.openSpeed);i.beforeContent(k);return f.when(j).always(function(l){i.setContent(l);i.afterContent(k)}).then(i.$instance.promise()).done(function(){i.afterOpen(k)})}}i.$instance.detach();return f.Deferred().reject().promise()},close:function(k){var j=this,i=f.Deferred();if(j.beforeClose(k)===false){i.reject()}else{if(0===h(j).length){d(false)}j.$instance.fadeOut(j.closeSpeed,function(){j.$instance.detach();j.afterClose(k);i.resolve()})}return i.promise()},chainCallbacks:function(j){for(var i in j){this[i]=f.proxy(j[i],this,f.proxy(this[i],this))}}};f.extend(a,{id:0,autoBind:"[data-featherlight]",defaults:a.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(i){return i instanceof f&&i},process:function(i){return this.persist!==false?f(i):f(i).clone(true)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp)(\?\S*)?$/i,process:function(l){var k=this,j=f.Deferred(),i=new Image(),m=f('<img src="'+l+'" alt="" class="'+k.namespace+'-image" />');i.onload=function(){m.naturalWidth=i.width;m.naturalHeight=i.height;j.resolve(m)};i.onerror=function(){j.reject(m)};i.src=l;return j.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(i){return f(i)}},ajax:{regex:/./,process:function(k){var j=this,i=f.Deferred();var l=f("<div></div>").load(k,function(n,m){if(m!=="error"){i.resolve(l.contents())}i.fail()});return i.promise()}},iframe:{process:function(k){var i=new f.Deferred();var j=f("<iframe/>").hide().attr("src",k).css(b(this,"iframe")).on("load",function(){i.resolve(j.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return i.promise()}},text:{process:function(i){return f("<div>",{text:i})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(j,k){var l=this,m=new RegExp("^data-"+k+"-(.*)"),i={};if(j&&j.attributes){f.each(j.attributes,function(){var o=this.name.match(m);if(o){var q=this.value,n=f.camelCase(o[1]);if(f.inArray(n,l.functionAttributes)>=0){q=new Function(q)}else{try{q=f.parseJSON(q)}catch(p){}}i[n]=q}})}return i},extend:function(k,j){var i=function(){this.constructor=k};i.prototype=this.prototype;k.prototype=new i();k.__super__=this.prototype;f.extend(k,this,j);k.defaults=k.prototype;return k},attach:function(o,j,i){var m=this;if(typeof j==="object"&&j instanceof f===false&&!i){i=j;j=undefined}i=f.extend({},i);var k=i.namespace||m.defaults.namespace,l=f.extend({},m.defaults,m.readElementConfig(o[0],k),i),n;o.on(l.openTrigger+"."+l.namespace,l.filter,function(q){var p=f.extend({$source:o,$currentTarget:f(this)},m.readElementConfig(o[0],l.namespace),m.readElementConfig(this,l.namespace),i);var r=n||f(this).data("featherlight-persisted")||new m(j,p);if(r.persist==="shared"){n=r}else{if(r.persist!==false){f(this).data("featherlight-persisted",r)}}r.open(q)});return o},current:function(){var i=this.opened();return i[i.length-1]||null},opened:function(){var i=this;h();return f.grep(g,function(j){return j instanceof i})},close:function(){var i=this.current();if(i){return i.close()}},_onReady:function(){var i=this;if(i.autoBind){i.attach(f(document),{filter:i.autoBind});f(i.autoBind).filter("[data-featherlight-filter]").each(function(){i.attach(f(this))})}},_callbackChain:{onKeyUp:function(j,i){if(27===i.keyCode){if(this.closeOnEsc){this.$instance.find("."+this.namespace+"-close:first").click()}return false}else{return j(i)}},onResize:function(m,l){if(this.$content.naturalWidth){var i=this.$content.naturalWidth,k=this.$content.naturalHeight;this.$content.css("width","").css("height","");var j=Math.max(i/parseInt(this.$content.parent().css("width"),10),k/parseInt(this.$content.parent().css("height"),10));if(j>1){this.$content.css("width",""+i/j+"px").css("height",""+k/j+"px")}}return m(l)},afterContent:function(k,j){var i=k(j);this.onResize(j);return i}}});f.featherlight=a;f.fn.featherlight=function(j,i){return a.attach(this,j,i)};f(document).ready(function(){a._onReady()})}(jQuery));(function(e){var h=function(i){if(window.console&&window.console.warn){window.console.warn("FeatherlightGallery: "+i)}};if("undefined"===typeof e){return h("Too much lightness, Featherlight needs jQuery.")}else{if(!e.featherlight){return h("Load the featherlight plugin before the gallery plugin")}}var f="ontouchstart" in document.documentElement,d=e.event&&e.event.special.swipeleft&&e,c=window.Hammer&&function(i){var j=new window.Hammer.Manager(i[0]);j.add(new window.Hammer.Swipe());return j},b=f&&(d||c);if(f&&!b){h("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.")}var g={afterClose:function(k,j){var i=this;i.$instance.off("next."+i.namespace+" previous."+i.namespace);if(i._swiper){i._swiper.off("swipeleft",i._swipeleft).off("swiperight",i._swiperight);i._swiper=null}return k(j)},beforeOpen:function(k,j){var i=this;i.$instance.on("next."+i.namespace+" previous."+i.namespace,function(l){var m=l.type==="next"?+1:-1;i.navigateTo(i.currentNavigation()+m)});if(b){i._swiper=b(i.$instance).on("swipeleft",i._swipeleft=function(){i.$instance.trigger("next")}).on("swiperight",i._swiperight=function(){i.$instance.trigger("previous")})}else{i.$instance.find("."+i.namespace+"-content").append(i.createNavigation("previous")).append(i.createNavigation("next"))}return k(j)},onKeyUp:function(k,j){var i={37:"previous",39:"next"}[j.keyCode];if(i){this.$instance.trigger(i);return false}else{return k(j)}}};function a(k,j){if(this instanceof a){e.featherlight.apply(this,arguments);this.chainCallbacks(g)}else{var i=new a(e.extend({$source:k,$currentTarget:k.first()},j));i.open();return i}}e.featherlight.extend(a,{autoBind:"[data-featherlight-gallery]"});e.extend(a.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,slides:function(){if(this.filter){return this.$source.find(this.filter)}return this.$source},images:function(){h("images is deprecated, please use slides instead");return this.slides()},currentNavigation:function(){return this.slides().index(this.$currentTarget)},navigateTo:function(k){var j=this,l=j.slides(),i=l.length,m=j.$instance.find("."+j.namespace+"-inner");k=((k%i)+i)%i;j.$currentTarget=l.eq(k);j.beforeContent();return e.when(j.getContent(),m.fadeTo(j.galleryFadeOut,0.2)).always(function(n){j.setContent(n);j.afterContent();n.fadeTo(j.galleryFadeIn,1)})},createNavigation:function(j){var i=this;return e('<span title="'+j+'" class="'+this.namespace+"-"+j+'"><span>'+this[j+"Icon"]+"</span></span>").click(function(){e(this).trigger(j+"."+i.namespace)})}});e.featherlightGallery=a;e.fn.featherlightGallery=function(i){return a.attach(this,i)};e(document).ready(function(){a._onReady()})}(jQuery));(function(c,d,g){function a(i,j){return/(png|jpg|jpeg|gif|tiff|bmp)$/.test(d(j).attr("href").toLowerCase().split("?")[0].split("#")[0])}function f(){d("a[href]").filter(a).attr("data-featherlight","image")}function e(k,l){var j=d(l),i=j.find(".gallery-item a");if(i.length===0){i=j.find(".tiled-gallery-item a")}if(!i.attr("data-featherlight")){return}i.featherlightGallery()}function b(){var i=d(".gallery, .tiled-gallery");if(i.length===0){return}d.each(i,e)}function h(){f();b()}d(document).ready(function(){h()})})(this,jQuery);